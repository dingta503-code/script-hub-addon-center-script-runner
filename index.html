<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏à‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå & ‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0f0f10;
  --card:#171717;
  --muted:#bdbdbd;
  --accent:#00bcd4;
  --border:#262626;
}
body{margin:0;font-family:'Prompt',sans-serif;background:var(--bg);color:#eaeaea;}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--card);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:50;}
header .brand{font-weight:600;font-size:1.2rem;cursor:pointer;}
button{cursor:pointer;font-family:'Prompt',sans-serif;}
.hidden{display:none;}
.btn{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#161616;color:inherit;}
.btn.primary{background:var(--accent);color:#061011;border:none;}
.btn.logout{position:absolute;top:12px;right:16px;background:#ff4c4c;border:none;color:white;font-weight:600;}
nav.side{position:fixed;left:0;top:56px;bottom:0;width:260px;background:linear-gradient(180deg,var(--card),#111);border-right:1px solid var(--border);padding:14px;transform:translateX(-280px);transition:transform .25s ease;overflow:auto;z-index:40;}
nav.side.open{transform:translateX(0)}
nav.side button, nav.side a{display:block;width:100%;text-align:left;padding:10px;border-radius:6px;border:none;background:none;color:inherit;text-decoration:none;margin-bottom:6px;}
nav.side button:hover, nav.side a:hover{background:#202020}
nav.side h4{margin-top:0;margin-bottom:12px;font-size:1.1rem;font-weight:600;color:var(--accent);}
main{padding:20px;max-width:1100px;margin:0 auto;transition:margin-left .25s ease;}
@media(min-width:721px){main { margin-left:260px; }}
.topbar{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:18px}
input[type="text"],input[type="password"],input[type="search"]{width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#0b0b0b;color:inherit;}
#grid,#gridRunners{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
.card{background:linear-gradient(180deg,#161616,#0f0f10);border:1px solid var(--border);padding:12px;border-radius:10px;text-align:center;position:relative;}
.card h4{margin:6px 0 6px;font-size:1rem;word-break:break-word;}
.card p{margin:0;font-size:0.9rem;color:var(--muted);word-break:break-word;}
.card textarea{resize:none;font-family:'Prompt',sans-serif;width:100%;height:80px;background:#0b0b0b;color:#eaeaea;border-radius:6px;margin-top:6px;padding:6px;}
.actions{display:flex;gap:6px;flex-wrap:wrap;justify-content:center;margin-top:10px}
.authBox{max-width:420px;margin:48px auto;padding:18px;background:var(--card);border:1px solid var(--border);border-radius:12px}
.muted{color:var(--muted);font-size:0.9rem}
.adminGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:6px}
.small{font-size:0.9rem;padding:8px;border-radius:8px;border:1px solid var(--border);background:#0b0b0b;color:inherit}
.notice{padding:8px;border-radius:8px;background:#0d2a2e;border:1px solid #08363a;color:#bfeef4;margin-bottom:12px}
@media(max-width:720px){
  nav.side{width:100%;transform:translateX(-100%);}
  nav.side.open{transform:translateX(0);}
  .adminGrid{grid-template-columns:1fr}
  main{margin-left:0;padding:16px;}
}
</style>
</head>
<body>

<header>
  <div class="brand">‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏à‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå & ‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</div>
  <button class="btn logout hidden" id="btnLogout">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
</header>

<nav class="side" id="sideNav" aria-hidden="true">
  <h4>‡πÄ‡∏°‡∏ô‡∏π</h4>
  <button onclick="showSection('scriptsPage')">üßæ ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå</button>
  <button onclick="showSection('runnersPage')">‚öôÔ∏è ‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</button>
  <button onclick="showSection('contactPage')">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>
  <hr>
  <div id="adminSection" class="hidden">
    <h4>‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Admin)</h4>
    <button onclick="showSection('adminPage')">üîß ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå & ‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</button>
  </div>
</nav>

<main>
  <!-- AUTH -->
  <div id="authWrap">
    <div class="authBox" id="loginBox">
      <h3>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h3>
      <input id="inUsername" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
      <input id="inPassword" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
      <div style="margin-top:8px;display:flex;gap:8px">
        <button class="btn primary" id="btnLogin">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button class="btn" id="btnShowRegister">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà</button>
      </div>
      <div class="muted" id="authMsg"></div>
    </div>

    <div class="authBox hidden" id="registerBox">
      <h3>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
      <input id="regUsername" type="text" placeholder="‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
      <input id="regPassword" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
      <div style="margin-top:8px;display:flex;gap:8px">
        <button class="btn primary" id="btnRegister">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button class="btn" id="btnShowLogin">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      </div>
      <div class="muted" id="regMsg"></div>
    </div>
  </div>

  <!-- CONTENT -->
  <section id="scriptsPage" class="hidden">
    <div class="topbar">
      <input id="searchInput" type="search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠">
      <button class="btn" onclick="applySearch()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </div>
    <div id="grid"></div>
  </section>

  <section id="runnersPage" class="hidden">
    <div id="gridRunners"></div>
  </section>

  <section id="contactPage" class="hidden">
    <div class="card" style="max-width:700px;margin:0 auto">
      <h3>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h3>
      <p class="muted">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô Discord ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏ß‡πâ</p>
      <a href="https://discord.gg/rtfpN9pT35" target="_blank" class="btn" style="margin-top:10px">‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° Discord</a>
    </div>
  </section>

  <section id="adminPage" class="hidden">
    <div class="card" style="max-width:960px;margin:0 auto">
      <h3>Admin Panel</h3>
      <div class="notice">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</div>
      <h4>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå</h4>
      <div class="adminGrid">
        <input id="a_scriptName" class="small" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå">
        <input id="a_scriptDesc" class="small" placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢">
        <button class="btn primary" onclick="adminAddScript()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      </div>
      <h4 style="margin-top:12px">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</h4>
      <div class="adminGrid">
        <input id="a_runnerName" class="small" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô">
        <input id="a_runnerFile" class="small" placeholder="URL ‡πÑ‡∏ü‡∏•‡πå/‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î">
        <button class="btn primary" onclick="adminAddRunner()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      </div>
    </div>
  </section>
</main>

<script>
/* ----- INIT ----- */
if(!localStorage.getItem('users')){
  localStorage.setItem('users',JSON.stringify([{username:'adminroot',password:'Root@2025',role:'admin'}]));
  localStorage.setItem('siteData',JSON.stringify({scripts:[],runners:[]}));
}
let users=JSON.parse(localStorage.getItem('users'));
let currentUser=JSON.parse(localStorage.getItem('currentUser'))||null;
let siteData=JSON.parse(localStorage.getItem('siteData'));

const authWrap=document.getElementById('authWrap');
const loginBox=document.getElementById('loginBox');
const registerBox=document.getElementById('registerBox');
const btnLogout=document.getElementById('btnLogout');
const adminSection=document.getElementById('adminSection');

function saveAll(){
  localStorage.setItem('users',JSON.stringify(users));
  localStorage.setItem('currentUser',JSON.stringify(currentUser));
  localStorage.setItem('siteData',JSON.stringify(siteData));
}

function showSection(pageId){
  ['scriptsPage','runnersPage','contactPage','adminPage'].forEach(id=>document.getElementById(id).classList.add('hidden'));
  document.getElementById(pageId).classList.remove('hidden');
}

function renderScripts(){
  const grid=document.getElementById('grid'); grid.innerHTML='';
  siteData.scripts.forEach(s=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<h4>${s.name}</h4><p class="muted">${s.desc}</p>
      <textarea readonly>${s.code}</textarea>
      <div class="actions">
        <button class="btn" onclick="copyCode(${s.id})">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå</button>
      </div>`;
    grid.appendChild(card);
  });
}

function renderRunners(){
  const grid=document.getElementById('gridRunners'); grid.innerHTML='';
  siteData.runners.forEach(r=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<h4>${r.name}</h4>
      <div class="actions">
        <a class="btn" href="${r.file}" target="_blank">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô</a>
      </div>`;
    grid.appendChild(card);
  });
}

function copyCode(id){
  const code=siteData.scripts.find(s=>s.id===id).code;
  navigator.clipboard.writeText(code);
  alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!');
}

/* LOGIN / REGISTER */
document.getElementById('btnLogin').onclick=()=>{
  const u=document.getElementById('inUsername').value.trim();
  const p=document.getElementById('inPassword').value;
  const msg=document.getElementById('authMsg'); msg.textContent='';
  if(!u||!p){msg.textContent='‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á'; return;}
  const user=users.find(x=>x.username===u && x.password===p);
  if(!user){msg.textContent='‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'; return;}
  currentUser={username:user.username,role:user.role}; saveAll();
  authWrap.classList.add('hidden'); btnLogout.classList.remove('hidden');
  adminSection.classList.toggle('hidden',user.role!=='admin');
  showSection('scriptsPage');
};

document.getElementById('btnShowRegister').onclick=()=>{
  loginBox.classList.add('hidden'); registerBox.classList.remove('hidden');
};
document.getElementById('btnShowLogin').onclick=()=>{
  registerBox.classList.add('hidden'); loginBox.classList.remove('hidden');
};
document.getElementById('btnRegister').onclick=()=>{
  const u=document.getElementById('regUsername').value.trim();
  const p=document.getElementById('regPassword').value;
  const msg=document.getElementById('regMsg'); msg.textContent='';
  if(!u||!p){msg.textContent='‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á'; return;}
  if(users.some(x=>x.username.toLowerCase()===u.toLowerCase())){msg.textContent='‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß'; return;}
  users.push({username:u,password:p,role:'user'}); currentUser={username:u,role:'user'}; saveAll();
  authWrap.classList.add('hidden'); btnLogout.classList.remove('hidden'); showSection('scriptsPage');
};

/* LOGOUT */
btnLogout.onclick=()=>{
  currentUser=null; saveAll(); authWrap.classList.remove('hidden');
  btnLogout.classList.add('hidden'); adminSection.classList.add('hidden');
  ['scriptsPage','runnersPage','contactPage','adminPage'].forEach(id=>document.getElementById(id).classList.add('hidden'));
};

/* ADMIN FUNCTIONS */
function adminAddScript(){
  const name=document.getElementById('a_scriptName').value.trim();
  const desc=document.getElementById('a_scriptDesc').value.trim();
  if(!name||!desc){alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á'); return;}
  const id=Date.now();
  siteData.scripts.push({id,name,desc,code:`// ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå: ${name}\nconsole.log('Hello!')`});
  saveAll(); renderScripts();
  document.getElementById('a_scriptName').value=''; document.getElementById('a_scriptDesc').value='';
}
function adminAddRunner(){
  const name=document.getElementById('a_runnerName').value.trim();
  const file=document.getElementById('a_runnerFile').value.trim();
  if(!name||!file){alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á'); return;}
  const id=Date.now();
  siteData.runners.push({id,name,file}); saveAll(); renderRunners();
  document.getElementById('a_runnerName').value=''; document.getElementById('a_runnerFile').value='';
}

/* SEARCH */
function applySearch(){
  const q=document.getElementById('searchInput').value.toLowerCase();
  const grid=document.getElementById('grid'); grid.innerHTML='';
  siteData.scripts.filter(s=>s.name.toLowerCase().includes(q)).forEach(s=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<h4>${s.name}</h4><p class="muted">${s.desc}</p>
      <textarea readonly>${s.code}</textarea>
      <div class="actions"><button class="btn" onclick="copyCode(${s.id})">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå</button></div>`;
    grid.appendChild(card);
  });
}

/* INITIAL RENDER */
renderScripts(); renderRunners();
</script>

</body>
</html>
